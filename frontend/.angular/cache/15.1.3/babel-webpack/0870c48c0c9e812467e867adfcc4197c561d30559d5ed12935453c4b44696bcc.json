{"ast":null,"code":"import { __decorate, __metadata } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { UserService } from \"../../services/user.service\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport { Role } from \"../../enum/Role\";\nvar LoginComponent = /** @class */function () {\n  function LoginComponent(userService, router, route) {\n    this.userService = userService;\n    this.router = router;\n    this.route = route;\n    this.submitted = false;\n    this.model = {\n      username: '',\n      password: '',\n      remembered: false\n    };\n    this.returnUrl = '/';\n  }\n  LoginComponent.prototype.ngOnInit = function () {\n    var params = this.route.snapshot.queryParamMap;\n    this.isLogout = params.has('logout');\n    this.returnUrl = params.get('returnUrl');\n  };\n  LoginComponent.prototype.onSubmit = function () {\n    var _this = this;\n    this.submitted = true;\n    this.userService.login(this.model).subscribe(function (user) {\n      if (user) {\n        if (user.role != Role.Customer) {\n          _this.returnUrl = '/seller';\n        }\n        _this.router.navigateByUrl(_this.returnUrl);\n      } else {\n        _this.isLogout = false;\n        _this.isInvalid = true;\n      }\n    });\n  };\n  LoginComponent.prototype.fillLoginFields = function (u, p) {\n    this.model.username = u;\n    this.model.password = p;\n    this.onSubmit();\n  };\n  LoginComponent = __decorate([Component({\n    selector: 'app-login',\n    templateUrl: './login.component.html',\n    styleUrls: ['./login.component.css']\n  }), __metadata(\"design:paramtypes\", [UserService, Router, ActivatedRoute])], LoginComponent);\n  return LoginComponent;\n}();\nexport { LoginComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}